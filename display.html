<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Please Wait</title>
    <link rel="stylesheet" href="styles.css">
    <script src="qrcode.min.js"></script>
</head>

<body>
    <div class="container">
        <div id="initialMessage">
            <p>
                Merci d'avoir joué, en espérant vous revoir bientôt!<br>
                pour tout problème, contactez-nous au : (438) 932-5065<br>
                Pour réserver à nouveau, scannez le code QR
            </p>
            <hr>
            <p>
                Time's up! Thanks for playing, we hope to see you soon!<br>
                for any problem contact us at : (438) 932-5065<br>
                For a new reservation, scan the QR code
            </p>
        </div>
        <div id="defaultMessage" style="display: none;">
            <p>
                Veuillez attendre l'heure prévue<br>
                pour tout problème, contactez-nous au : (438) 932-5065<br>
                Pour réserver à nouveau, scannez le code QR
            </p>
            <hr>
            <p>
                Please wait for your scheduled time<br>
                for any problem contact us at : (438) 932-5065<br>
                For a new reservation, scan the QR code
            </p>
        </div>
        <div id="qrSection" class="qr-section">
            <div id="qrcode"></div>
        </div>
    </div>
    <script>
        // Helper: Function to check URL query parameters
        function getQueryParam(param)
        {
            const params = new URLSearchParams(window.location.search);
            return params.get(param);
        }

        document.addEventListener("DOMContentLoaded", function ()
        {
            // If maskInitial parameter is set to true, hide the initial message immediately.
            if (getQueryParam("maskInitial") === "true")
            {
                document.getElementById('initialMessage').style.display = 'none';
                document.getElementById('defaultMessage').style.display = 'block';
            }

            // Generate QR code after the DOM loads
            var qrcode = new QRCode(document.getElementById("qrcode"), {
                text: "https://www.lebirdie.golf/reserver-un-simulateur",
                width: 200,
                height: 200,
                colorDark: "#ffffff",
                colorLight: "#000000",
                correctLevel: QRCode.CorrectLevel.M
            });
        });

        // After 5 minutes switch to the default message (only if not already masked).
        setTimeout(function ()
        {
            if (document.getElementById('initialMessage').style.display !== 'none')
            {
                document.getElementById('initialMessage').style.display = 'none';
                document.getElementById('defaultMessage').style.display = 'block';
            }
        }, 5 * 60 * 1000); // 5 minutes
    </script>
</body>

</html>